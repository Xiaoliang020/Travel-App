{"version":3,"file":"static/js/362.78ef9b37.chunk.js","mappings":"6LA4FA,UAtFmB,WACjB,IAAQA,GAAWC,EAAAA,EAAAA,MAAXD,OACRE,GAAwBC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAA8BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAnCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAA8BT,EAAAA,EAAAA,UAAS,IAAGU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAnCE,EAAOD,EAAA,GAENE,GAFkBF,EAAA,IAELG,EAAAA,EAAAA,IAAc,CACjCC,iBAAkBC,4CADZH,WAIRI,EAAAA,EAAAA,YAAU,WACRC,EAAAA,EAAMC,IAAI,cAADC,OAAetB,IACrBuB,MAAK,SAAAC,GACJjB,EAAQiB,EAASC,KAAKA,MACtBC,QAAQC,IAAI,oCAAqCH,EAASC,KAAKA,KACjE,IACCG,OAAM,SAAAC,GACLH,QAAQG,MAAM,gCAAiCA,EACjD,IAEFT,EAAAA,EAAMC,IAAI,qBAADC,OAAsBtB,IAC5BuB,MAAK,SAAAC,GACJE,QAAQC,IAAIH,EAASC,KAAKA,MAC1Bd,EAAWa,EAASC,KAAKA,MACzBC,QAAQC,IAAI,uCAAwCH,EAASC,KAAKA,KACpE,IACCG,OAAM,SAAAC,GACLH,QAAQG,MAAM,mCAAoCA,EACpD,GACJ,GAAG,CAAC7B,IAOJ,IAAKM,EACH,OAAOwB,EAAAA,EAAAA,KAAA,OAAAC,SAAK,eAGd,IAAMC,EAAY,CAChBC,IAAK3B,EAAKA,KAAK,GAAG2B,IAClBC,IAAK5B,EAAKA,KAAK,GAAG4B,KAGdC,EAAY7B,EAAKA,KAEvB,OAAKS,GAGHqB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUN,SAAA,EACvBD,EAAAA,EAAAA,KAAA,MAAAC,SAAI,6BACJK,EAAAA,EAAAA,MAAA,KAAAL,SAAA,CAAG,YAAUzB,EAAKgC,OAClBF,EAAAA,EAAAA,MAAA,KAAAL,SAAA,CAAG,kBAAgBzB,EAAKiC,iBACxBH,EAAAA,EAAAA,MAAA,KAAAL,SAAA,CAAG,gBAAczB,EAAKkC,eACtBJ,EAAAA,EAAAA,MAAA,KAAAL,SAAA,CAAG,eAAazB,EAAKmC,cACrBL,EAAAA,EAAAA,MAAA,KAAAL,SAAA,CAAG,aAAWzB,EAAKoC,YACnBZ,EAAAA,EAAAA,KAAA,OAAKO,UAAU,gBAAeN,UAC9BK,EAAAA,EAAAA,MAACO,EAAAA,GAAS,CACNC,OAAQZ,EACRa,KAAM/B,EACNgC,sBAAsB,gBAAef,SAAA,EAErCD,EAAAA,EAAAA,KAACiB,EAAAA,GAAS,CACRzC,KAAM6B,EACNa,QAAS,CACPC,YAAa,UACbC,cAAe,EACfC,aAAc,KAIjBzC,EAAQ0C,KAAI,SAACC,EAAQC,GAAK,OACzBxB,EAAAA,EAAAA,KAACyB,EAAAA,GAAO,CAENC,SAAU,CAAEvB,IAAKoB,EAAOI,UAAWvB,IAAKmB,EAAOK,WAC/CC,KAAMN,EAAOM,KACbC,QAAS,WAA+B,GAHnCP,EAIL,aA/BUvB,EAAAA,EAAAA,KAAA,OAAAC,SAAK,aAqC7B,C","sources":["views/Share.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { GoogleMap, useLoadScript, MarkerF, PolylineF } from '@react-google-maps/api';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../App.css';\r\n\r\nconst SharedPage = () => {\r\n  const { pathId } = useParams();\r\n  const [path, setPath] = useState(null);\r\n  const [markers, setMarkers] = useState([]);\r\n  const [mapZoom, setMapZoom] = useState(15);\r\n\r\n  const { isLoaded } = useLoadScript({\r\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios.get(`/api/share/${pathId}`)\r\n      .then(response => {\r\n        setPath(response.data.data);\r\n        console.log(\"Successfully retrive shared path:\", response.data.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error retrieving shared path:', error);\r\n      });\r\n    // get markers binded with the path\r\n    axios.get(`/api/share/marker/${pathId}`)\r\n      .then(response => {\r\n        console.log(response.data.data);\r\n        setMarkers(response.data.data);\r\n        console.log(\"Successfully retrive shared markers:\", response.data.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error retrieving shared markers:', error);\r\n      });\r\n  }, [pathId]);\r\n\r\n  // TODO\r\n  const handleMarkerClick = (marker) => {\r\n\r\n  };\r\n\r\n  if (!path) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  const mapCenter = {\r\n    lat: path.path[0].lat,\r\n    lng: path.path[0].lng,\r\n  };\r\n\r\n  const pathArray = path.path;\r\n\r\n  if (!isLoaded) return <div>Loading..</div>\r\n\r\n  return (\r\n    <div className=\"map-view\">\r\n      <h1>Shared Path Information</h1>\r\n      <p>Path ID: {path.id}</p>\r\n      <p>Start Address: {path.startAddress}</p>\r\n      <p>End Address: {path.endAddress}</p>\r\n      <p>Start Time: {path.startTime}</p>\r\n      <p>End Time: {path.endTime}</p>\r\n      <div className=\"map-container\">\r\n      <GoogleMap\r\n          center={mapCenter}\r\n          zoom={mapZoom}\r\n          mapContainerClassName=\"map-container\"\r\n        >\r\n          <PolylineF\r\n            path={pathArray}\r\n            options={{\r\n              strokeColor: '#5900FF',\r\n              strokeOpacity: 1.0,\r\n              strokeWeight: 5,\r\n            }}\r\n          />\r\n\r\n          {markers.map((marker, index) => (\r\n            <MarkerF\r\n              key={marker}\r\n              position={{ lat: marker.markerLat, lng: marker.markerLng }}\r\n              icon={marker.icon}\r\n              onClick={() => handleMarkerClick(marker)}\r\n            />\r\n          ))}\r\n        </GoogleMap>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SharedPage;\r\n"],"names":["pathId","useParams","_useState","useState","_useState2","_slicedToArray","path","setPath","_useState3","_useState4","markers","setMarkers","_useState5","_useState6","mapZoom","isLoaded","useLoadScript","googleMapsApiKey","process","useEffect","axios","get","concat","then","response","data","console","log","catch","error","_jsx","children","mapCenter","lat","lng","pathArray","_jsxs","className","id","startAddress","endAddress","startTime","endTime","GoogleMap","center","zoom","mapContainerClassName","PolylineF","options","strokeColor","strokeOpacity","strokeWeight","map","marker","index","MarkerF","position","markerLat","markerLng","icon","onClick"],"sourceRoot":""}