"use strict";(self.webpackChunktravel_app=self.webpackChunktravel_app||[]).push([[103],{1103:function(e,r,s){s.r(r),s.d(r,{default:function(){return x}});var a=s(1413),n=s(9439),l=s(9555),t=s(7846),o=s(7027),i=s(6005),d=s(9862),c=s(7309),m=s(2791),u=s(7689),h=s(1243),p=s(184),f=l.Z.Option,g={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},Z={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function x(){var e=t.Z.useForm(),r=(0,n.Z)(e,1)[0],s=(0,u.s0)();return(0,p.jsxs)(t.Z,(0,a.Z)((0,a.Z)({},g),{},{form:r,name:"register",className:"register-form",onFinish:function(e){console.log("Received values of form: ",e),h.Z.post("/api/register",e).then((function(e){"0"===e.data.code?(console.log("Registration successful!",e.data),o.ZP.success("Registration success! Log in now!"),(0,m.startTransition)((function(){s("/login")}))):"-1"===e.data.code&&(console.error("Registration failed:",e.data.msg),"The email already exists"===e.data.msg?o.ZP.error("This email has been registered. Please choose a different email."):"The username already exists"===e.data.msg&&o.ZP.error("Username already exists. Please choose a different username."))})).catch((function(e){console.error("Registration failed:",e),o.ZP.error("Registration failed. Please try again later.")}))},scrollToFirstError:!0,children:[(0,p.jsx)("h3",{className:"register_title",children:"Account Sign Up"}),(0,p.jsx)(t.Z.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:(0,p.jsx)(i.Z,{})}),(0,p.jsx)(t.Z.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0,children:(0,p.jsx)(i.Z.Password,{})}),(0,p.jsx)(t.Z.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var r=e.getFieldValue;return{validator:function(e,s){return s&&r("password")!==s?Promise.reject(new Error("The new password that you entered do not match!")):Promise.resolve()}}}],children:(0,p.jsx)(i.Z.Password,{})}),(0,p.jsx)(t.Z.Item,{name:"username",label:"Username",tooltip:"What do you want others to call you?",rules:[{required:!0,message:"Please input your username!",whitespace:!0}],children:(0,p.jsx)(i.Z,{})}),(0,p.jsx)(t.Z.Item,{name:"gender",label:"Gender",rules:[{required:!0,message:"Please select gender!"}],children:(0,p.jsxs)(l.Z,{placeholder:"select your gender",children:[(0,p.jsx)(f,{value:"male",children:"Male"}),(0,p.jsx)(f,{value:"female",children:"Female"}),(0,p.jsx)(f,{value:"other",children:"Other"})]})}),(0,p.jsx)(t.Z.Item,(0,a.Z)((0,a.Z)({name:"agreement",valuePropName:"checked",rules:[{validator:function(e,r){return r?Promise.resolve():Promise.reject(new Error("Should accept agreement"))}}]},Z),{},{children:(0,p.jsxs)(d.Z,{children:["I have read the ",(0,p.jsx)("a",{href:"",children:"agreement"})]})})),(0,p.jsx)(t.Z.Item,(0,a.Z)((0,a.Z)({},Z),{},{children:(0,p.jsx)(c.ZP,{block:!0,type:"primary",htmlType:"submit",children:"Register"})}))]}))}}}]);
//# sourceMappingURL=103.bce7de01.chunk.js.map